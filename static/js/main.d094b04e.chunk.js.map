{"version":3,"sources":["api.js","comps/HeaderNav.js","comps/Output.js","index.js"],"names":["api","axios","create","baseURL","url","this","post","concat","then","response","data","get","id","HeaderNav","_ref","children","_useState","useState","_useState2","Object","slicedToArray","open","setOpen","react_default","a","createElement","UIShell","aria-label","href","prefix","onClick","_24_default","Tile","style","padding","marginTop","Link","target","Output","ComposedModal","label","marginBottom","original","shortened","Button","kind","renderIcon","props","_32_default","navigator","clipboard","writeText","catch","console","error","styles","innerContainer","footer","position","left","bottom","width","textAlign","App","setUrl","_useState3","_useState4","setError","_useState5","_useState6","loading","setLoading","_useState7","_useState8","output","setOutput","handleSubmit","e","preventDefault","URL","_unused","isURL","finally","className","comps_HeaderNav","Form","onSubmit","FormGroup","legendText","TextInput","type","labelText","color","background","helperText","onChange","val","value","launch_32_default","comps_Output","Loading","description","withOverlay","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d094b04e.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n    api: axios.create({ baseURL: \"https://s.zavaar.net/api\" }),\r\n    create: function (url) {\r\n        return this.api.post(`/create?url=${url}`)\r\n            .then(response => response.data)\r\n    },\r\n    get: function (id) {\r\n        return this.api.get(`/get/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n};","import React, { useState } from \"react\";\r\nimport InformationSquare24 from \"@carbon/icons-react/lib/information/24\";\r\nimport {\r\n    Header,\r\n    HeaderName,\r\n    HeaderGlobalAction,\r\n    HeaderGlobalBar,\r\n} from \"carbon-components-react/lib/components/UIShell\";\r\nimport { Link, Tile } from \"carbon-components-react\"\r\n\r\nconst HeaderNav = ({ children }) => {\r\n    const [open, setOpen] = useState(false)\r\n    return <div><Header aria-label=\"URL Shortener\">\r\n        <HeaderName href=\"https://info.zavaar.net\" prefix=\"URL\">\r\n            Shortener\r\n        </HeaderName>\r\n        {children}\r\n        <HeaderGlobalBar>\r\n            <HeaderGlobalAction\r\n                aria-label=\"More Info\"\r\n                onClick={() => { setOpen(() => !open) }}>\r\n                <InformationSquare24 />\r\n            </HeaderGlobalAction>\r\n        </HeaderGlobalBar>\r\n\r\n    </Header>\r\n    {open ? <Tile style={{padding: 25, marginTop: 50}}>Created by <Link target=\"_blank\"  href=\"https://info.zavaar.net\"> Zavaar Shah</Link>. Powered by <Link target=\"_blank\" href=\"https://deta.sh\">Deta.sh</Link></Tile>: null}\r\n    </div>\r\n}\r\n\r\nexport default HeaderNav","import Copy32 from \"@carbon/icons-react/lib/copy/32\";\r\nimport { Button, ComposedModal, Link, ModalBody, ModalHeader } from \"carbon-components-react\"\r\nimport React from \"react\"\r\n// { data: { original, shortened, id } }\r\nconst Output = ({ data }) => {\r\n    const doCopy = () => {\r\n        navigator.clipboard.writeText(data.shortened).catch(console.error)\r\n    }\r\n    return <div>\r\n        <ComposedModal open>\r\n            <ModalHeader label=\"Your new URL:\" />\r\n            <ModalBody>\r\n                <p style={{ marginBottom: '1rem' }}>\r\n                    {data.original} âž¾ <Link id=\"mainURL\" href={data.shortened}>{data.shortened}</Link>\r\n                </p>\r\n                <Button kind=\"tertiary\" renderIcon={(props) => <Copy32 {...props} />} onClick={doCopy}>\r\n                    Copy\r\n                </Button>\r\n            </ModalBody>\r\n        </ComposedModal>\r\n    </div>\r\n}\r\n\r\nexport default Output","import React, { useState } from \"react\";\nimport { render } from \"react-dom\";\n\nimport \"./style.css\";\nimport api from \"./api\";\nimport HeaderNav from \"./comps/HeaderNav\";\nimport Output from \"./comps/Output\";\n\nimport Launch32 from \"@carbon/icons-react/lib/launch/32\";\nimport { TextInputSkeleton, TextInput, Form, FormGroup, Button, ComposedModal, Loading } from \"carbon-components-react\";\n//import { TextInput, Form, FormGroup } from \"carbon-components-react\";\n\nconst styles = {\n  innerContainer: {\n    padding: 25\n  },\n  footer: {\n    position: \"fixed\",\n    left: 0,\n    bottom: 0,\n    width: \"100%\",\n    textAlign: \"center\"\n  }\n}\n\nconst isURL = (url) => {\n  try {\n    new URL(url)\n  } catch {\n    return false\n  }\n  return true\n}\n\nconst App = () => {\n  const [url, setUrl] = useState(\"\")\n  const [error, setError] = useState(\"\") // for errors in the input field\n  const [loading, setLoading] = useState(false)\n  const [output, setOutput] = useState(null)\n\n  const handleInput = (e) => {\n    let val = e.target.value\n    setUrl(val)\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!url) {\n      return setError(\"Please enter a URL\") // TODO: make these into react toast msgs\n    }\n    if (!isURL(url)) {\n      return setError(\"Invalid URL\")\n    }\n    setError(\"\")\n    // axios get req\n    setLoading(true)\n    api.create(url).then((data) => {\n      //JSON.parse(data)\n      setOutput(data)\n    }).catch((error) => {\n      console.error(error)\n    }).finally(() => {\n      setLoading(false)\n    })\n\n  }\n  return (\n    <div className=\"container\">\n\n      {/* Navbar */}\n      <HeaderNav></HeaderNav>\n      <div style={styles.innerContainer}>\n        <Form onSubmit={handleSubmit}>\n          <FormGroup legendText=\"\" >\n            <TextInput id=\"text-input-1\"\n              type=\"text\"\n              labelText=\"A free open-source alternative to shortening URLs.\"\n              style={error ? { color: \"#551010\", background: \"#E48080\" } : {}}\n              helperText={error ? error : \"Enter URL here (e.g. https://google.com)\"}\n              onChange={handleInput}\n            />\n          </FormGroup>\n\n          <Button\n            style={{ width: \"100%\", textAlign: \"center\" }}\n            kind=\"secondary\"\n            renderIcon={(props) => <Launch32 {...props} />}\n            onClick={handleSubmit}>Shorten</Button>\n\n        </Form>\n      </div>\n      {output && !loading ? <Output data={output} /> : null}\n      {loading ? <Loading\n        description=\"Generating URL\" withOverlay={true}\n      /> : null}\n    </div>\n  )\n};\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}